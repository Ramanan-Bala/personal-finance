<div class="bg-background flex min-h-screen">
  <div
    class="dark:bg-card relative hidden flex-col justify-between overflow-hidden bg-linear-to-br from-emerald-500 to-emerald-600 p-12 lg:flex lg:w-1/2 dark:bg-none"
  >
    <div class="absolute inset-0 opacity-10">
      <div class="absolute top-20 left-20">
        <!-- <DollarSign class="h-32 w-32 text-white" /> -->
        <i-lucide [img]="pieChart" class="h-32 w-32 text-white"></i-lucide>
      </div>
      <div class="absolute right-20 bottom-32">
        <!-- <PiggyBank class="h-40 w-40 text-white" /> -->
        <i-lucide [img]="piggyBank" class="h-32 w-32 text-white"></i-lucide>
      </div>
      <div class="absolute top-1/2 left-1/3">
        <!-- <Wallet class="h-24 w-24 text-white" /> -->
        <i-lucide [img]="wallet" class="h-32 w-32 text-white"></i-lucide>
      </div>
    </div>

    <logo
      animate.enter="stagger-left"
      size="md"
      [showWordMark]="true"
      variant="light"
      class="z-10"
    />

    <div animate.enter="stagger-left" class="relative z-10 text-white">
      <h1 class="mb-4 text-4xl">Welcome back to Cashly</h1>
      <p class="text-lg text-emerald-50 opacity-90">
        Track your finances, manage your budget, and achieve your financial goals with ease.
      </p>
    </div>

    <div class="relative z-10 flex gap-8 text-emerald-50">
      <div class="flex items-center gap-2">
        <div class="h-2 w-2 rounded-full bg-white"></div>
        <span class="text-sm">Secure & Private</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="h-2 w-2 rounded-full bg-white"></div>
        <span class="text-sm">Easy to Use</span>
      </div>
      <div class="flex items-center gap-2">
        <div class="h-2 w-2 rounded-full bg-white"></div>
        <span class="text-sm">Always Free</span>
      </div>
    </div>
  </div>

  <div class="flex flex-1 flex-col">
    <theme-switcher class="flex justify-end p-5"></theme-switcher>
    <div animate.enter="fade-in" class="flex flex-1 items-center justify-center p-8">
      <div class="w-full max-w-md">
        <div class="mb-8 flex justify-center lg:hidden">
          <logo size="lg" [showWordMark]="true" variant="default" />
        </div>

        <div class="border-border bg-card rounded-2xl border p-8 shadow-lg">
          <div class="mb-8">
            <h2 class="text-foreground mb-2">Log in to your account</h2>
            <p class="text-muted-foreground text-sm">
              Enter your credentials to access your dashboard
            </p>
          </div>

          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-5">
            <div class="flex flex-col gap-2">
              <label htmlFor="email" class="text-foreground text-sm font-medium"
                >Email address</label
              >
              <input
                pInputText
                pSize="small"
                id="email"
                type="email"
                placeholder="you@example.com"
                class="primary"
                formControlName="email"
              />

              @if (
                loginForm.controls.email.touched &&
                loginForm.controls.email.invalid &&
                loginForm.controls.email.errors
              ) {
                @if (loginForm.controls.email.errors['required']) {
                  <p-message
                    severity="error"
                    size="small"
                    variant="simple"
                    class="text-xs text-red-500"
                    >Email is required</p-message
                  >
                } @else {
                  <p-message
                    severity="error"
                    size="small"
                    variant="simple"
                    class="text-xs text-red-500"
                    >Invalid email address</p-message
                  >
                }
              }
            </div>

            <div class="flex flex-col gap-2">
              <label htmlFor="password" class="text-foreground text-sm font-medium">Password</label>
              <div>
                <p-password
                  formControlName="password"
                  size="small"
                  placeholder=". . . . . ."
                  fluid
                  toggleMask
                  feedback="false"
                />
              </div>
            </div>

            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <p-checkbox inputId="rememberMe" size="small" value="rememberMe" />
                <label for="rememberMe" class="ml-2 text-sm">Remember me</label>
              </div>
              <a class="text-primary transition-smooth cursor-pointer text-sm hover:underline">
                Forgot Password?
              </a>
            </div>

            <button pButton type="submit" [disabled]="loginForm.invalid" fluid>
              <i-lucide [img]="logIn" class="h-4.5 w-4.5"></i-lucide>
              <span pButtonLabel>Log in</span>
            </button>
          </form>

          <div class="mt-6 text-center">
            <div class="relative mb-6">
              <div class="absolute inset-0 flex items-center">
                <div class="border-border w-full border-t"></div>
              </div>
              <div class="relative flex justify-center text-sm">
                <span class="bg-card text-muted-foreground px-4">New to Cashly?</span>
              </div>
            </div>

            <button pButton type="button" severity="secondary" fluid routerLink="/register">
              <i-lucide [img]="userPlus" class="h-4.5 w-4.5"></i-lucide>
              <span pButtonLabel>Create Account</span>
            </button>
          </div>

          <div class="pt-8">
            <div class="flex flex-wrap items-center justify-center gap-6">
              @for (item of securityFeatures; track $index) {
                <div class="text-muted-foreground flex items-center gap-2">
                  <i-lucide [img]="item.icon" size="18"></i-lucide>
                  <span class="text-xs font-medium">{{ item.text }}</span>
                </div>
              }
            </div>
          </div>
        </div>

        <p class="text-foreground mt-8 text-center text-xs">
          By continuing, you agree to our Terms of Service and Privacy Policy
        </p>
      </div>
    </div>
  </div>
</div>
